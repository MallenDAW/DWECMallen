<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Apartado 5</title>
  </head>
  <body>
    <script>
      /*5.- Encierra todo el programa en un bucle para que al usuario se le pregunte repetidamente qué quiere hacer. 
            El usuario puede optar por:

                • Mostrar el primer contacto (primero)
                • Mostrar el último contacto (último)
                • Mostrar todos los contactos (todos)
                • Añadir un nuevo contacto (nuevo)
                • Salir del programa (salir)

            Después de ejecutar la acción seleccionada, el programa le dará la oportunidad de elegir nuevamente.
            El programa debe finalizar las acciones solo después de que el usuario dé un comando específico (salir).
    */


      //INICIO FUNCIONES---------
      //Creamos una función para crear contactos nuevos
      function agregarContacto(array) {
        let nombre = prompt("Nombre:");
        let telefono = prompt("Telefono:");
        let correo = prompt("Correo:");

        //si algun campo esta vacío, no se agrega el uauario
        if (nombre === "" || telefono === "" || correo === "") {
          alert("No pudo añadrise el contacto, no se admiten campos vacíos.");
        } else {
          //Si los datos son validos se intorduce al array en la última posición
          array.push({
            nombre: nombre,
            telefono: telefono,
            correo: correo,
          });
        }
      }

      //Creamos una función para imprimir, pasandole el array y la posición que queremos que muestre
      function mostrarContacto(array, posicion) {
        let ver=`${array[posicion].nombre} / ${array[posicion].telefono} / ${array[posicion].correo}`;
        console.log(ver);
        alert(ver);
      }

      function mostrarTodo(array) {
        let ver="";
        array.forEach(element => {
          ver+=`${element.nombre} / ${element.telefono} / ${element.correo}\n`;
        });
        alert(ver);
      }
      //...FIN FUNCIONES ----------------

      //Definimos el array con la lista de contactos (estos serán objetos)
      let contactos = [
        {
          nombre: "Maxwell",
          telefono: "(0191) 719 6495",
          correo: "correofalso@nonummyac.co.uk",
        },
        {
          nombre: "Raja",
          telefono: "0866 398 2895",
          correo: "correofalso@sed.com",
        },
        {
          nombre: "Helen",
          telefono: "0800 1111",
          correo: "correofalso@sed.com",
        },
      ];

      let opcion=30;

      while (opcion!==0) {
        
      opcion = parseInt(
        prompt("ELIGE UNA OPCION\n1-Mostrar primer contacto\n2-Mostrar último contacto\n3-Mostrar todos los contactos\n4-Agragar nuevo contacto\n\n 0-SALIR"
        )
      );

      switch (opcion) {
        case 1:
          mostrarContacto(contactos, 0);
          break;
        case 2:
          mostrarContacto(contactos, contactos.length - 1);
          break;
        case 3:

          mostrarTodo(contactos);
          break;
        case 4:
          agregarContacto(contactos);
          break;
        case 0:
          console.log("...saliendo.");
          alert("Has salido correctamente")
        break;
        default:
          alert("OPCIÓN NO VALIDA")
        break;
      }
    }
      //mostrarContacto(contactos, contactos.length - 1);
    </script>
  </body>
</html>
